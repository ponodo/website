<!DOCTYPE html>
<html>
    {{ partial "head.html" }}

    <body>
        {{ partial "header.html" }}

        <div class="w-full ">


            <div class="max-w-[90rem] mx-auto lg:flex lg:flex-row">

                <div class="pl-8 pr-4 hidden lg:block lg:basis-1/4">
                    <div class="fixed top-[3.6rem] bottom-0 overflow-y-auto w-60">
                        {{ partial "left-navigation.html" . }}
                    </div>
                </div>

                <div class="max-w-[65ch] mx-auto xl:max-w-full">
                    <div class="w-full mx-auto xl:flex xl:flex-row">

                        <div class="px-4 pt-[0.4rem] prose prose-headings:font-sans">
                            <header class="mb-10">
                                <p class="font-semibold text-emerald-500 mb-0">{{ .Params.section }}</p>
                                <h1 class="mt-1">{{ .Title }}</h1>
                                <p class="lead">{{ .Description }}</p>
                            </header>

                            <article class="prose-headings:font-light prose-code:font-normal">
                                {{ block "main" . }}{{ end }}
                            </article>
                        </div>
                        <div class="pl-4 pr-8 hidden xl:block">
                            <aside class="fixed top-[3.9rem] bottom-0 overflow-y-auto pt-3">
                                <h5 class="font-semibold py-3 text-slate-800">On This Article</h5>
                                {{ .TableOfContents }}
                            </aside>
                        
                        </div>
                    </div>

                </div>
            </div>
            
        </div>
        <!-- <footer>footer</footer> -->

        <script>
            let toc = document.getElementById('TableOfContents')
            let firstUl = toc.firstElementChild
            firstUl.classList.add('text-slate-600', 'text-sm')
            let liList1stLevel = firstUl.children
            for (var i = 0; i < firstUl.childElementCount; i++) {
                liList1stLevel[i].classList.add('mb-2')
                let anchor = liList1stLevel[i].getElementsByTagName('a')[0]
                anchor.classList.add('block', 'py-1', 'hover:text-emerald-600')

                let liList2ndLevel = liList1stLevel[i].getElementsByTagName('li')

                for (var j = 0; j < liList2ndLevel.length; j++) {
                    let anchor = liList2ndLevel[j].getElementsByTagName('a')[0]
                    anchor.classList.add('block', 'py-1', 'pl-4', 'hover:text-emerald-600')
                }
            }
        </script>
        <div class="highlight mb-2"></div>

    </body>
</html>
